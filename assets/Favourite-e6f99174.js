import{a as F,u as g,b as E,c as l,j as e,F as m,d as s,I as b,T as r,a1 as f,n as k,B as z,a2 as C,a3 as v,s as j,a4 as I,h as R,L as T,a5 as B}from"./index-8ff37333.js";import{E as D}from"./Error-f42db733.js";const L=({favoriteId:i,id:a,title:c,description:x,price:o,img:p,data:t})=>{const n=F(),u=g(),y=E(),h=l(d=>d.auth.token),w=async()=>{try{await u(C([i,h])).unwrap(),await u(v(h)).unwrap(),j(n,"Product removed from favourites","success")}catch{j(n,"Something went wrong","error")}},S=()=>{I("singleProduct",t),y(`/description/${a}`)};return e.jsx(e.Fragment,{children:e.jsxs(m,{flexDirection:"column",mb:"30px",children:[e.jsx(s,{overflow:"hidden",children:e.jsx(b,{onClick:S,className:"imgAnimation",cursor:"pointer",src:p[0]})}),e.jsxs(s,{mt:"15px",children:[e.jsxs(m,{fontSize:["14px","14px","16px","16px","18px"],justifyContent:"space-between",children:[e.jsx(r,{children:f(c)}),e.jsxs(r,{children:["â‚¹",k(o)]})]}),e.jsx(r,{fontSize:["12px","12px","15px","15px","17px"],color:"gray",my:"2px",children:f(x,20)}),e.jsx(z,{variant:"ghost",borderRadius:"20px",border:"1px solid #cecdce",mt:"20px",onClick:w,children:"Remove"})]})]})})};function q(){const i=g(),a=l(t=>t.auth.token),{isLoading:c,isError:x,favourite:o}=l(t=>t.favourite),p=async t=>{try{await i(v(t)).unwrap()}catch(n){console.log(n)}};return R.useEffect(()=>{p(a)},[a]),c?e.jsx(T,{}):x?e.jsx(D,{}):e.jsx(e.Fragment,{children:e.jsxs(s,{maxW:"1450px",minHeight:"60vh",mx:"auto",my:"20px",p:"15px",children:[e.jsx(r,{fontSize:"20px",fontWeight:500,children:"Favourites"}),o.length?e.jsx(s,{display:"grid",gap:["20px","20px","20px","40px","40px"],mt:"40px",gridTemplateColumns:["repeat(2, 1fr)","repeat(2, 1fr)","repeat(2, 1fr)","repeat(3, 1fr)","repeat(3, 1fr)"],children:o.map(t=>e.jsx(L,{...t,data:t},t.favoriteId))}):e.jsx(s,{children:e.jsx(B,{h:"30vh",children:e.jsx(r,{fontSize:"20px",children:"Your favourite items will be displayed here."})})})]})})}export{q as default};
